#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
WKMG Winning Playbook v1.0 â€” ìŠ¹ë¦¬ ê³µì‹ ë°ì´í„°ë² ì´ìŠ¤
=====================================================
WKMG 16ë…„ê°„ì˜ B2G ìˆ˜ì£¼ ì„±ê³µ íŒ¨í„´ì„ êµ¬ì¡°í™”í•œ ì „ëµ ì°¸ì¡° DB.
SPD Analysis Engineì´ ìƒˆë¡œìš´ ê³µê³ ë¥¼ ë¶„ì„í•  ë•Œ ì´ ë°ì´í„°ë¥¼ ì°¸ì¡°í•˜ì—¬
"ì´ ìœ í˜•ì˜ ê³µê³ ì—ì„œ WKMGê°€ ì´ê¸°ëŠ” ê³µì‹"ì„ ìë™ìœ¼ë¡œ ì ìš©í•©ë‹ˆë‹¤.

êµ¬ì„±:
  1. WIN_PATTERNS â€” ë„ë©”ì¸ë³„ ìŠ¹ë¦¬ ê³µì‹ (6ëŒ€ ë„ë©”ì¸ + í¬ë¡œìŠ¤ë„ë©”ì¸)
  2. CLIENT_PLAYBOOK â€” ë°œì£¼ê¸°ê´€ë³„ ê³µëµ ì „ëµ (24ê°œ íŒŒíŠ¸ë„ˆ ê¸°ê´€)
  3. PROPOSAL_TEMPLATES â€” ì œì•ˆì„œ ìœ í˜•ë³„ êµ¬ì¡°/ì „ëµ í…œí”Œë¦¿
  4. COMPETITIVE_INTEL â€” ê²½ìŸ í™˜ê²½ ì¸í…”ë¦¬ì „ìŠ¤
  5. PRICING_GUIDE â€” ì˜ˆì‚° ê·œëª¨ë³„ ê°€ê²© ì „ëµ
  6. RISK_LIBRARY â€” ê³µí†µ ë¦¬ìŠ¤í¬ & ëŒ€ì‘ ë¼ì´ë¸ŒëŸ¬ë¦¬

ì‚¬ìš©ë²•:
  from wkmg_winning_playbook import get_win_pattern, get_client_strategy
  pattern = get_win_pattern("ì‚¬íšŒì ê¸°ì—…")
  strategy = get_client_strategy("í•œêµ­ì‚¬íšŒì ê¸°ì—…ì§„í¥ì›")

Author: WKMG Automation (SPD System)
Version: 1.0.0
"""

import json
from typing import Optional, Dict, List

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 1. WIN_PATTERNS â€” ë„ë©”ì¸ë³„ ìŠ¹ë¦¬ ê³µì‹
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

WIN_PATTERNS = {
    "D1_ì‚¬íšŒì ê¸°ì—…": {
        "domain_id": "D1",
        "domain_name": "ì‚¬íšŒì ê¸°ì—…/ì‚¬íšŒì ê²½ì œ ì§€ì›",
        "strength_level": "S",  # S=ìµœê°•, A=ì£¼ë ¥, B=ë³´í†µ, C=ë³´ì™„í•„ìš”
        "win_rate_estimate": "85%+",
        "track_record": {
            "total_projects": 10,
            "consecutive_wins": "2018~2024 (7ë…„ ì—°ì†)",
            "key_clients": ["í•œêµ­ì‚¬íšŒì ê¸°ì—…ì§„í¥ì›", "ì„œìš¸ì‹œ"],
            "total_revenue_estimate": "30ì–µì›+",
            "latest_project": "2024 ì‚¬íšŒì ê²½ì œ ìœ í†µì±„ë„ ì§„ì¶œ ì§€ì›ì‚¬ì—…"
        },
        "winning_formula": {
            "core_message": "7ë…„ ì—°ì† ìˆ˜ì£¼ â€” ëŒ€í•œë¯¼êµ­ì—ì„œ ì‚¬íšŒì ê¸°ì—… ë§ˆì¼€íŒ…ì„ ê°€ì¥ ì˜ ì•„ëŠ” íšŒì‚¬",
            "key_differentiators": [
                "7ë…„ ì—°ì† ë™ì¼ì‚¬ì—… ìˆ˜ì£¼ = ì‚¬ì—… ì—°ì†ì„± + ë…¸í•˜ìš° ì¶•ì ì˜ ì¦ê±°",
                "ì‚¬íšŒì ê¸°ì—… 500ê°œì‚¬+ ì§ì ‘ ì»¨ì„¤íŒ… ê²½í—˜ (ëˆ„ì )",
                "ì¹´ì¹´ì˜¤ìŠ¤í† ì–´/ë„¤ì´ë²„ ë“± ì˜¨ë¼ì¸ ìœ í†µì±„ë„ ì§„ì¶œ ì‹¤ì „ ë…¸í•˜ìš°",
                "B2B ëŒ€ê¸°ì—… ë¸Œëœë“œì „ëµ + ì‚¬íšŒì ê²½ì œ ì •ì±… ì´í•´ = ìœ ì¼í•œ ì¡°í•©"
            ],
            "proposal_strategy": {
                "tone": "í˜„ì¥ ê²½í—˜ ê¸°ë°˜ ì‹¤ë¬´í˜• â€” ì´ë¡ ì´ ì•„ë‹Œ ì‹¤í–‰ë ¥ ê°•ì¡°",
                "must_include": [
                    "ì—°ë„ë³„ ì‚¬ì—… ì„±ê³¼ ë³€í™” ì¶”ì´ (ìˆ˜í˜œê¸°ì—… ìˆ˜, ë§¤ì¶œì¦ê°€ìœ¨)",
                    "ëŒ€í‘œ ì„±ê³µì‚¬ë¡€ 3~4ê°œ (before/after ìˆ˜ì¹˜ í¬í•¨)",
                    "ì˜¨ë¼ì¸ ìœ í†µì±„ë„ë³„ ì§„ì¶œ í”„ë¡œì„¸ìŠ¤ ë§¤ë‰´ì–¼í™”",
                    "B2B ë¸Œëœë“œì „ëµ ë°©ë²•ë¡ ì˜ ì‚¬íšŒì ê¸°ì—… ì ìš© ì‚¬ë¡€"
                ],
                "avoid": [
                    "ê³¼ë„í•œ í•™ìˆ ì  ì ‘ê·¼ (ì‹¤ì „ ê²½í—˜ì´ ê°•ì ì¸ë° ì´ë¡ ìœ¼ë¡œ ê°€ë©´ ì•½í•´ì§)",
                    "íƒ€ ì‚¬ì—…ê³¼ì˜ í†µí•© ì œì•ˆ (ì§‘ì¤‘ë ¥ ë¶„ì‚°)"
                ]
            },
            "competitive_edge": "ì¬ìˆ˜ì£¼ ì‚¬ì—…ì´ë¯€ë¡œ ê¸°ì¡´ ìˆ˜í–‰ì‹¤ì ì´ ì ˆëŒ€ì  ê°•ì . ì‹ ê·œ ì§„ì…ì ëŒ€ë¹„ ì‚¬ì—… ì´í•´ë„ê°€ ì••ë„ì .",
            "risk_watch": "ë‹´ë‹¹ì êµì²´ ì‹œ ê´€ê³„ ë¦¬ì…‹ ìœ„í—˜, ì‚¬ì—… ë°©í–¥ ë³€ê²½(ì˜¨ë¼ì¸â†’ì˜¤í”„ë¼ì¸ ë“±) ê°€ëŠ¥ì„±"
        },
        "keywords_trigger": [
            "ì‚¬íšŒì ê¸°ì—…", "ì‚¬íšŒì ê²½ì œ", "ì‚¬íšŒì ê°€ì¹˜", "ì†Œì…œë²¤ì²˜", "ì‚¬íšŒì í˜‘ë™ì¡°í•©",
            "ìí™œê¸°ì—…", "ë§ˆì„ê¸°ì—…", "ì‚¬íšŒì„œë¹„ìŠ¤", "ì‚¬íšŒì ëª©ì ", "ì·¨ì•½ê³„ì¸µ",
            "ìœ í†µì±„ë„ ì§„ì¶œ", "íŒë¡œê°œì²™", "ìƒí’ˆê²½ìŸë ¥", "ì‚¬íšŒì ê¸°ì—…ì§„í¥"
        ]
    },

    "D2_ë†ì‹í’ˆ": {
        "domain_id": "D2",
        "domain_name": "ë†ì‹í’ˆ ë§ˆì¼€íŒ…/ì‚¬ì—…í™”",
        "strength_level": "A",
        "win_rate_estimate": "65~75%",
        "track_record": {
            "total_projects": 12,
            "consecutive_wins": "ë†ì—…ê¸°ìˆ ì‹¤ìš©í™”ì¬ë‹¨ ë‹¤ë…„ê°„ íŒŒíŠ¸ë„ˆ",
            "key_clients": ["ë†ì—…ê¸°ìˆ ì‹¤ìš©í™”ì¬ë‹¨", "ë†ë¦¼ì¶•ì‚°ì‹í’ˆë¶€", "ì „ë¼ë¶ë„", "í™”ì„±ì‹œ"],
            "total_revenue_estimate": "25ì–µì›+",
            "latest_project": "2023 í™”ì„± ì‹œê·¸ë‹ˆì²˜ ë†íŠ¹ì‚°ë¬¼ ê°€ê³µì‹í’ˆ ìƒí’ˆê¸°íš"
        },
        "winning_formula": {
            "core_message": "ë†ì‹í’ˆì˜ 'ë§›'ì„ 'ê°€ì¹˜'ë¡œ â€” ê¸°ìˆ ì—ì„œ ì‹œì¥ê¹Œì§€ Full Journey íŒŒíŠ¸ë„ˆ",
            "key_differentiators": [
                "ê¸°ìˆ ì‚¬ì—…í™” â†’ ìƒí’ˆê¸°íš â†’ ë¸Œëœë”© â†’ ìœ í†µì§„ì¶œ í’€ ë°¸ë¥˜ì²´ì¸ ì»¤ë²„",
                "6ì°¨ì‚°ì—… ì œí’ˆê²½ìŸë ¥ ê°•í™” ì „ë¬¸ (ë†ì—…+ì œì¡°+ì„œë¹„ìŠ¤ í†µí•©)",
                "ì œí’ˆë§ˆì¼“í…ŒìŠ¤íŠ¸ ì‚¬ì—… ìˆ˜í–‰ ê²½í—˜ (ì‹¤ì œ ì‹œì¥ ë°˜ì‘ ê²€ì¦ ë°©ë²•ë¡ )",
                "ë¡¯ë°ì›°í‘¸ë“œ, í’€ë¬´ì›, ì˜¤ë¦¬ì˜¨ ë“± ëŒ€ê¸°ì—… ì‹í’ˆ ë¸Œëœë“œ ì „ëµ ì‹¤ì "
            ],
            "proposal_strategy": {
                "tone": "ë†ì—…ì¸ ëˆˆë†’ì´ + ì‹œì¥ ì „ë¬¸ê°€ ì‹œê°ì˜ ê· í˜•",
                "must_include": [
                    "ê¸°ìˆ ì‚¬ì—…í™” ì„±ê³µë¥  ë°ì´í„° (ìˆ˜í˜œê¸°ì—… ë§¤ì¶œ ì¦ê°€ ì‚¬ë¡€)",
                    "ì‹¤ì œ ìƒí’ˆí™” í¬íŠ¸í´ë¦¬ì˜¤ (íŒ¨í‚¤ì§€ ë””ìì¸, ë„¤ì´ë° before/after)",
                    "ìœ í†µì±„ë„ë³„(ëŒ€í˜•ë§ˆíŠ¸/ì˜¨ë¼ì¸/ë¡œì»¬) ì§„ì¶œ ì „ëµ ì°¨ì´",
                    "B2B ì‹í’ˆ ë¸Œëœë“œ í”„ë¡œì íŠ¸ ë ˆí¼ëŸ°ìŠ¤ (ë¡¯ë°/í’€ë¬´ì›/ì˜¤ë¦¬ì˜¨)"
                ],
                "avoid": [
                    "ìˆœìˆ˜ ë†ì—…ê¸°ìˆ  ê´€ì ë§Œ (ë§ˆì¼€íŒ… ê´€ì ì´ í•µì‹¬)",
                    "ì¼ë°˜ ì»¨ì„¤íŒ… í”„ë ˆì„ì›Œí¬ (ë†ì‹í’ˆ íŠ¹í™” ë°©ë²•ë¡  í•„ìš”)"
                ]
            },
            "competitive_edge": "ë†ì‹í’ˆ ê¸°ìˆ ì‚¬ì—…í™” + ëŒ€ê¸°ì—… ë¸Œëœë“œì „ëµ ì–‘ìª½ ì‹¤ì . ë†ì—… ì „ë¬¸ ì»¨ì„¤íŒ…ì‚¬ëŠ” ë§ˆì¼€íŒ…ì´ ì•½í•˜ê³ , ë§ˆì¼€íŒ…ì‚¬ëŠ” ë†ì—…ì„ ëª¨ë¥´ëŠ” ì‹œì¥ì—ì„œ ìœ ì¼í•œ í¬ì§€ì…˜.",
            "risk_watch": "ë†ì‹í’ˆ ë¶„ì•¼ëŠ” ì§€ì—­ì—…ì²´ ìš°ëŒ€ ê²½í–¥, ëŒ€í•™/ì—°êµ¬ê¸°ê´€ê³¼ ê²½ìŸ ê°€ëŠ¥"
        },
        "keywords_trigger": [
            "ë†ì‹í’ˆ", "ë†ì‚°ë¬¼", "6ì°¨ì‚°ì—…", "ê¸°ìˆ ì‚¬ì—…í™”", "ë†ì—…ê¸°ìˆ ", "ë¡œì»¬í‘¸ë“œ",
            "ë†íŠ¹ì‚°ë¬¼", "ê°€ê³µì‹í’ˆ", "ìƒí’ˆê¸°íš", "ì‹í’ˆê°œë°œ", "ë†ìˆ˜ì‚°", "ìŠ¤íƒ€íŠ¸ì—… íŒë¡œ",
            "ì œí’ˆë§ˆì¼“í…ŒìŠ¤íŠ¸", "ì‹í’ˆ ë¸Œëœë”©", "ë¨¹ê±°ë¦¬", "íŠ¹ì‚°í’ˆ"
        ]
    },

    "D3_ì§€ì—­ë¸Œëœë“œ": {
        "domain_id": "D3",
        "domain_name": "ì§€ì—­ ë¸Œëœë“œ/íŠ¹ì‚°ë¬¼ ê°œë°œ",
        "strength_level": "A",
        "win_rate_estimate": "60~70%",
        "track_record": {
            "total_projects": 10,
            "key_clients": ["ê³ ì„±êµ°", "ì§„ì•ˆêµ°", "í¬ì²œì‹œ", "í™ì„±êµ°", "êµ°ì‚°ì‹œ", "í™”ì„±ì‹œ", "ìš©ë´‰ì •"],
            "total_revenue_estimate": "15ì–µì›+",
            "latest_project": "2023 í™”ì„± ì‹œê·¸ë‹ˆì²˜ ë†íŠ¹ì‚°ë¬¼ ê°€ê³µì‹í’ˆ ê°œë°œ"
        },
        "winning_formula": {
            "core_message": "ì§€ì—­ì˜ ì´ì•¼ê¸°ë¥¼ ë¸Œëœë“œë¡œ â€” ì§€ì—­ìì›ì„ ì‹œì¥ê°€ì¹˜ë¡œ ì „í™˜í•˜ëŠ” ì „ë¬¸ê°€",
            "key_differentiators": [
                "ì§€ì—­ë³„ íŠ¹ì‚°ë¬¼ ë¸Œëœë”© â†’ ìƒí’ˆí™” â†’ ìœ í†µ ì—°ê²° í’€í”„ë¡œì„¸ìŠ¤",
                "ê³ ì„±/ì§„ì•ˆ/í¬ì²œ/í™ì„±/êµ°ì‚° ë“± ë‹¤ì–‘í•œ ì§€ì—­ ì„±ê³µì‚¬ë¡€",
                "ê´€ê´‘ ì—°ê³„ ìƒí’ˆí™” (ì§€ì—­ë¸Œëœë“œ + ê´€ê´‘ë§ˆì¼€íŒ… ì‹œë„ˆì§€)",
                "ê³µë™ë¸Œëœë“œ ì „ëµ ìˆ˜ë¦½ ê²½í—˜ (í¬ì²œë§‰ê±¸ë¦¬ ë“±)"
            ],
            "proposal_strategy": {
                "tone": "ì§€ì—­ ì• ì • + ì „ë¬¸ì  ì‹œì¥ ë¶„ì„ì˜ ì¡°í™”",
                "must_include": [
                    "í•´ë‹¹ ì§€ì—­ ì‚¬ì „ ë¶„ì„ (ì§€ì—­ íŠ¹ì„±, ìì›, ê²½ìŸ ì§€ì—­ ë²¤ì¹˜ë§ˆí‚¹)",
                    "ìœ ì‚¬ ì§€ì—­ ì„±ê³µì‚¬ë¡€ (ê·œëª¨/íŠ¹ì„± ìœ ì‚¬í•œ ì§€ì—­)",
                    "ê´€ê´‘ ì—°ê³„ ì‹œë„ˆì§€ ì „ëµ",
                    "ì£¼ë¯¼ ì°¸ì—¬í˜• ë¸Œëœë“œ ê°œë°œ í”„ë¡œì„¸ìŠ¤"
                ],
                "avoid": [
                    "ì„œìš¸ ì¤‘ì‹¬ì  ì‹œê° (ì§€ì—­ íŠ¹ì„± ë¬´ì‹œ)",
                    "ê³¼ë„í•œ ë””ìì¸ ì¤‘ì‹¬ (ì „ëµ ë¨¼ì €, ë””ìì¸ì€ í›„ì†)"
                ]
            },
            "competitive_edge": "ì§€ì—­ ìì› ë°œêµ´â†’ë¸Œëœë”©â†’ìƒí’ˆí™”â†’ìœ í†µ ì „ ê³¼ì • ê²½í—˜. ì§€ì—­ ë””ìì¸ì‚¬ëŠ” ì „ëµì´ ì•½í•˜ê³ , ëŒ€í˜•ì‚¬ëŠ” ì§€ì—­ ì´í•´ê°€ ë¶€ì¡±.",
            "risk_watch": "ì§€ì—­ì‚¬ì—…ì€ ì§€ì—­ì—…ì²´ ìš°ëŒ€ ì¡°í•­ ì£¼ì˜, ì§€ìì²´ì¥ êµì²´ ì‹œ ì‚¬ì—… ë°©í–¥ ë³€ê²½"
        },
        "keywords_trigger": [
            "ì§€ì—­ë¸Œëœë“œ", "ì§€ì—­íŠ¹í™”", "íŠ¹ì‚°ë¬¼", "ê³µë™ë¸Œëœë“œ", "ë¡œì»¬", "ì§€ì—­ìì›",
            "ë§ˆì„ë¸Œëœë“œ", "í–¥í† ", "íŠ¹í™”ë°œì „", "ê·€ë†ê·€ì´Œ", "ë†ì´Œì²´í—˜",
            "ì§€ì—­ìƒí’ˆ", "ì§€ì—­ê²½ì œ", "ì§€ì—­í™œì„±í™”"
        ]
    },

    "D4_ê³µê³µë¸Œëœë“œ": {
        "domain_id": "D4",
        "domain_name": "ê³µê³µê¸°ê´€ ë¸Œëœë“œ/í™ë³´",
        "strength_level": "B+",
        "win_rate_estimate": "50~60%",
        "track_record": {
            "total_projects": 8,
            "key_clients": ["ì„œìš¸ì‹œìƒìˆ˜ë„ì‚¬ì—…ë³¸ë¶€", "ëŒ€êµ¬ì‹œ", "êµ­ë¦½ì•„ì‹œì•„ë¬¸í™”ì „ë‹¹", "êµ­ë¯¼ëŒ€í•™êµ"],
            "total_revenue_estimate": "12ì–µì›+"
        },
        "winning_formula": {
            "core_message": "ê³µê³µì˜ ê°€ì¹˜ë¥¼ ì‹œë¯¼ì˜ ì–¸ì–´ë¡œ â€” ì •ì±…ì„ ë¸Œëœë“œë¡œ ì „í™˜",
            "key_differentiators": [
                "ì•„ë¦¬ìˆ˜(ì„œìš¸ì‹œìƒìˆ˜ë„) í†µí•© í™ë³´ë§ˆì¼€íŒ… ì „ëµ ìˆ˜ë¦½ ì‹¤ì ",
                "ëŒ€êµ¬ì‹œ ë„ì‹œë¸Œëœë“œ ê°œë°œ ê²½í—˜",
                "ì €íƒ„ì†Œì¸ì¦ì œë„ ë“± ì •ì±… í™ë³´ íŠ¹í™”",
                "LGì „ì/ì‚¼ì„± ë“± ëŒ€ê¸°ì—… ë¸Œëœë“œ ë°©ë²•ë¡ ì„ ê³µê³µì— ì ìš©"
            ],
            "proposal_strategy": {
                "tone": "ê³µê³µê°€ì¹˜ ì´í•´ + ë¯¼ê°„ ìˆ˜ì¤€ì˜ ë¸Œëœë“œ ì „ë¬¸ì„±",
                "must_include": [
                    "ê³µê³µê¸°ê´€ íŠ¹ì„±ì— ë§ëŠ” ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ì „ëµ",
                    "ì‹œë¯¼/êµ­ë¯¼ ì¸ì‹ì¡°ì‚¬ ë°©ë²•ë¡ ",
                    "ë¯¼ê°„ ëŒ€ê¸°ì—… ë¸Œëœë“œ ë²¤ì¹˜ë§ˆí‚¹ (ê³µê³µ ì ìš© ì‚¬ë¡€)"
                ],
                "avoid": [
                    "ê³¼ë„í•œ ë¯¼ê°„ ë§ˆì¼€íŒ… í”„ë ˆì„ (ê³µê³µì„± ê°„ê³¼)"
                ]
            },
            "competitive_edge": "B2B ëŒ€ê¸°ì—… ë¸Œëœë”© ë…¸í•˜ìš°ë¥¼ ê³µê³µì— ì ‘ëª©í•˜ëŠ” ëŠ¥ë ¥",
            "risk_watch": "ëŒ€í˜• ê´‘ê³ /PR ì—ì´ì „ì‹œì™€ ê²½ìŸ, í™ë³´ ì˜ìƒ/ë¯¸ë””ì–´ ë¶„ì•¼ëŠ” ë³„ë„ íŒŒíŠ¸ë„ˆ í•„ìš”"
        },
        "keywords_trigger": [
            "CI", "BI", "ê³µê³µë¸Œëœë“œ", "ë„ì‹œë¸Œëœë“œ", "í™ë³´ì „ëµ", "í™ë³´ë§ˆì¼€íŒ…",
            "ì»¤ë®¤ë‹ˆì¼€ì´ì…˜", "ê³µê³µê¸°ê´€ í™ë³´", "ì •ì±…í™ë³´", "ì¸ì§€ë„", "ë¸Œëœë“œ ì´ë¯¸ì§€",
            "ì•„ì´ë´í‹°í‹°", "ìŠ¬ë¡œê±´", "ì •ì²´ì„±"
        ]
    },

    "D5_ê´€ê´‘ë¬¸í™”": {
        "domain_id": "D5",
        "domain_name": "ê´€ê´‘/ë¬¸í™” ë§ˆì¼€íŒ…",
        "strength_level": "B",
        "win_rate_estimate": "45~55%",
        "track_record": {
            "total_projects": 6,
            "key_clients": ["í•œêµ­ê´€ê´‘ê³µì‚¬", "ê°•ì›ë„", "ì„œìš¸ëŒ€í•™êµ"],
            "total_revenue_estimate": "8ì–µì›+"
        },
        "winning_formula": {
            "core_message": "ê²½í—˜ì„ ë””ìì¸í•˜ë‹¤ â€” ê´€ê´‘ìì›ì„ ë§ˆì¼€íŒ… ê´€ì ìœ¼ë¡œ ì¬í•´ì„",
            "key_differentiators": [
                "ì˜ë£Œê´€ê´‘ ë§ˆì¼€íŒ… (ê°•ì›ë„) ì‹¤ì ",
                "í•œì‹ì„¸ê³„í™” í”„ë¡œì íŠ¸ (ì¤‘êµ­/í•´ì™¸) ê²½í—˜",
                "ì—ì½”í”Œë¦¬ë§ˆì¼“, ì‹œí‹°íˆ¬ì–´ ë“± ì²´í—˜í˜• ê´€ê´‘ ê¸°íš",
                "ì§€ì—­ë¸Œëœë“œ + ê´€ê´‘ ì—°ê³„ í¬ë¡œìŠ¤ì˜¤ë²„"
            ],
            "proposal_strategy": {
                "tone": "íŠ¸ë Œë“œ ê°ê° + ë°ì´í„° ê¸°ë°˜",
                "must_include": [
                    "ê´€ê´‘ íŠ¸ë Œë“œ ë¶„ì„ (MZì„¸ëŒ€, ì²´í—˜í˜•, ì§€ì†ê°€ëŠ¥ ë“±)",
                    "ë””ì§€í„¸ ë§ˆì¼€íŒ… ì±„ë„ ì „ëµ (SNS, ì¸í”Œë£¨ì–¸ì„œ)",
                    "íƒ€ ì§€ì—­/êµ­ê°€ ë²¤ì¹˜ë§ˆí‚¹ ì‚¬ë¡€"
                ],
                "avoid": [
                    "ê´€ê´‘ ì¸í”„ë¼ ê°œë°œ ë¶„ì•¼ (ì†Œí”„íŠ¸ì›¨ì–´ì— ì§‘ì¤‘)"
                ]
            },
            "competitive_edge": "ë§ˆì¼€íŒ… ì „ëµ + ë¸Œëœë”© + ìœ í†µ í†µí•© ê´€ì ì˜ ê´€ê´‘ ì ‘ê·¼",
            "risk_watch": "ê´€ê´‘ ì „ë¬¸ ì»¨ì„¤íŒ…ì‚¬, ì—¬í–‰ì‚¬, ê´‘ê³ ëŒ€í–‰ì‚¬ì™€ ê²½ìŸ"
        },
        "keywords_trigger": [
            "ê´€ê´‘", "ë¬¸í™”", "ì¶•ì œ", "ê´€ê´‘ë§ˆì¼€íŒ…", "ì˜ë£Œê´€ê´‘", "ì‹œí‹°íˆ¬ì–´",
            "ì—ì½”íˆ¬ì–´", "í•œì‹", "í•œë¥˜", "ì½˜í…ì¸ ", "ë¬¸í™”ê´€ê´‘", "ì²´í—˜",
            "ê´€ê´‘ë¸Œëœë“œ", "ê´€ê´‘ìƒí’ˆ", "ì¸ë°”ìš´ë“œ", "ì•„ì›ƒë°”ìš´ë“œ"
        ]
    },

    "D6_ì¤‘ì†Œê¸°ì—…ìœ í†µ": {
        "domain_id": "D6",
        "domain_name": "ì¤‘ì†Œê¸°ì—… íŒë¡œ/ìœ í†µ ì§€ì›",
        "strength_level": "A",
        "win_rate_estimate": "65~75%",
        "track_record": {
            "total_projects": 8,
            "key_clients": ["ì¤‘ì†Œê¸°ì—…ìœ í†µì„¼í„°", "ì¤‘ì†Œë²¤ì²˜ê¸°ì—…ë¶€", "ê³µì˜í™ˆì‡¼í•‘"],
            "total_revenue_estimate": "20ì–µì›+"
        },
        "winning_formula": {
            "core_message": "ì¢‹ì€ ì œí’ˆì´ ì˜ íŒ”ë¦¬ê²Œ â€” ì¤‘ì†Œê¸°ì—…ì˜ ë§ˆì¼€íŒ… íŒŒíŠ¸ë„ˆ",
            "key_differentiators": [
                "ì¤‘ì†Œê¸°ì—…ìœ í†µì„¼í„° ë‹¤ë…„ê°„ ë§ˆì¼€íŒ… ì§€ì› íŒŒíŠ¸ë„ˆ",
                "ì˜¨ë¼ì¸/ì˜¤í”„ë¼ì¸/í™ˆì‡¼í•‘ ì „ ì±„ë„ ìœ í†µ ì „ëµ",
                "ë””ì§€í„¸ë§ˆì¼€íŒ… ì§€ì›ì‚¬ì—… ìˆ˜í–‰ (SNS, ê²€ìƒ‰ê´‘ê³ , ì½˜í…ì¸ )",
                "ê¹€ì¹˜ì‚°ì—… ë“± íŠ¹ì • ì‚°ì—… ë§ì¶¤í˜• ì§€ì› ì‹¤ì ",
                "ê³µì˜í™ˆì‡¼í•‘ ê³ ê°ë§Œì¡±ë„ ì¡°ì‚¬ ë“± ìœ í†µ ë¶„ì„ ì—­ëŸ‰"
            ],
            "proposal_strategy": {
                "tone": "ì‹¤ì „ ì¤‘ì‹¬ â€” ì¤‘ì†Œê¸°ì—…ì´ ë°”ë¡œ ì¨ë¨¹ì„ ìˆ˜ ìˆëŠ” ì†”ë£¨ì…˜",
                "must_include": [
                    "ì±„ë„ë³„(ì˜¨ë¼ì¸ëª°/SNS/í™ˆì‡¼í•‘/ëŒ€í˜•ë§ˆíŠ¸) ì§„ì¶œ ë¡œë“œë§µ",
                    "ìˆ˜í˜œê¸°ì—… ë§¤ì¶œ ì¦ê°€ ì‚¬ë¡€ (before/after ë°ì´í„°)",
                    "ë””ì§€í„¸ë§ˆì¼€íŒ… ì„±ê³¼ ì§€í‘œ (ROAS, ì „í™˜ìœ¨ ë“±)",
                    "GSí™ˆì‡¼í•‘/ê³µì˜í™ˆì‡¼í•‘ ë“± ìœ í†µì±„ë„ í˜‘ë ¥ ë„¤íŠ¸ì›Œí¬"
                ],
                "avoid": [
                    "ì´ë¡ ì  ë§ˆì¼€íŒ… ì „ëµ (ì¤‘ì†Œê¸°ì—…ì€ ì‹¤í–‰ë ¥ ì›í•¨)",
                    "B2B ëŒ€ê¸°ì—… ì‚¬ë¡€ë§Œ ê°•ì¡° (ì¤‘ì†Œê¸°ì—… ëˆˆë†’ì´ ë§ì¶”ê¸°)"
                ]
            },
            "competitive_edge": "ìœ í†µ ì „ ì±„ë„ ì»¤ë²„ + ëŒ€ê¸°ì—…/ì¤‘ì†Œê¸°ì—… ì–‘ìª½ ê²½í—˜ = ì¤‘ì†Œê¸°ì—…ì—ê²Œ ëŒ€ê¸°ì—… ìˆ˜ì¤€ ë§ˆì¼€íŒ… ì œê³µ",
            "risk_watch": "ë””ì§€í„¸ë§ˆì¼€íŒ… ì „ë¬¸ì—…ì²´(í¼í¬ë¨¼ìŠ¤ ë§ˆì¼€íŒ…ì‚¬)ì™€ ê²½ìŸ, IT ì—­ëŸ‰ ë³´ì™„ í•„ìš”"
        },
        "keywords_trigger": [
            "ì¤‘ì†Œê¸°ì—…", "íŒë¡œ", "ìœ í†µ", "ì˜¨ë¼ì¸ìœ í†µ", "í™ˆì‡¼í•‘", "ìˆ˜ì¶œë§ˆì¼€íŒ…",
            "ë””ì§€í„¸ë§ˆì¼€íŒ…", "ë§ˆì¼€íŒ…ì§€ì›", "íŒë§¤ì´‰ì§„", "ìœ í†µì±„ë„", "ì´ì»¤ë¨¸ìŠ¤",
            "ì†Œìƒê³µì¸", "ì¤‘ì†Œë²¤ì²˜", "íŒë¡œê°œì²™", "ë§ˆì¼€íŒ…ì´ë…¸ë² ì´ì…˜"
        ]
    },

    "DX_í¬ë¡œìŠ¤ë„ë©”ì¸": {
        "domain_id": "DX",
        "domain_name": "í¬ë¡œìŠ¤ë„ë©”ì¸ (ë³µí•© í”„ë¡œì íŠ¸)",
        "strength_level": "A",
        "win_rate_estimate": "70%+",
        "winning_formula": {
            "core_message": "WKMGë§Œì˜ í†µí•© ì†”ë£¨ì…˜ â€” ë¸Œëœë“œÃ—ìƒí’ˆÃ—ìœ í†µÃ—ë§ˆì¼€íŒ… ì›ìŠ¤í†±",
            "key_differentiators": [
                "6ëŒ€ ë„ë©”ì¸ ê°„ ì‹œë„ˆì§€ê°€ ì§„ì§œ ë¬´ê¸°",
                "ì˜ˆ: ë†ì‹í’ˆ(D2) + ì§€ì—­ë¸Œëœë“œ(D3) + ìœ í†µ(D6) í†µí•© ì ‘ê·¼",
                "ì˜ˆ: ì‚¬íšŒì ê¸°ì—…(D1) + ë””ì§€í„¸ë§ˆì¼€íŒ…(D6) í¬ë¡œìŠ¤ ì œì•ˆ",
                "B2B ëŒ€ê¸°ì—… ë¸Œëœë“œì „ëµì„ B2Gì— ì ìš©í•˜ëŠ” í¬ë¡œìŠ¤ì˜¤ë²„"
            ],
            "when_to_use": "ê³µê³ ê°€ 2ê°œ ì´ìƒ ë„ë©”ì¸ì— ê±¸ì¹  ë•Œ (í†µí•© ê³¼ì—…, ì¢…í•© ì»¨ì„¤íŒ…)",
            "competitive_edge": "ëŒ€ë¶€ë¶„ ê²½ìŸì‚¬ëŠ” í•œ ë¶„ì•¼ë§Œ ê°•í•¨. WKMGëŠ” ë³µí•© ì—­ëŸ‰."
        },
        "keywords_trigger": [
            "ì¢…í•©", "í†µí•©", "ì›ìŠ¤í†±", "í’€íŒ¨í‚¤ì§€", "í† íƒˆ", "ë³µí•©",
            "ë¸Œëœë”©+ìœ í†µ", "ìƒí’ˆê¸°íš+ë§ˆì¼€íŒ…", "ì»¨ì„¤íŒ…+ì‹¤í–‰"
        ]
    }
}


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 2. CLIENT_PLAYBOOK â€” ë°œì£¼ê¸°ê´€ë³„ ê³µëµ ì „ëµ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

CLIENT_PLAYBOOK = {
    "í•œêµ­ì‚¬íšŒì ê¸°ì—…ì§„í¥ì›": {
        "relationship": "PLATINUM",  # PLATINUM/GOLD/SILVER/NEW
        "years_active": "2018~2024",
        "total_contracts": 7,
        "primary_domain": "D1_ì‚¬íšŒì ê¸°ì—…",
        "decision_pattern": "ì—°ë¡€ ì‚¬ì—… â†’ ì „ë…„ ìˆ˜í–‰ì‚¬ ìš°ëŒ€ ê²½í–¥",
        "evaluation_focus": ["ìˆ˜í–‰ì‹¤ì ", "ì‚¬ì—…ì´í•´ë„", "ì‚¬íšŒì ê°€ì¹˜ ì‹¤í˜„"],
        "proposal_tips": [
            "ì „ë…„ë„ ì„±ê³¼ ë°ì´í„°ë¥¼ ê°•ë ¥íˆ ì œì‹œ (ìˆ˜í˜œê¸°ì—… ìˆ˜, ë§¤ì¶œ ì¦ê°€)",
            "ì‚¬íšŒì ê°€ì¹˜ ì¸¡ì • í”„ë ˆì„ì›Œí¬ í¬í•¨",
            "í˜„ì¥ ì¤‘ì‹¬ ì ‘ê·¼ (ì‚¬íšŒì ê¸°ì—…ì¸ ì¸í„°ë·°, ì›Œí¬ìˆ ê²½í—˜)"
        ],
        "budget_range": "3~8ì–µì›",
        "contact_note": "ì‚¬ì—… ë‹´ë‹¹ë¶€ì„œì™€ì˜ ì§€ì†ì  ê´€ê³„ ìœ ì§€ ì¤‘ìš”"
    },
    "ë†ì—…ê¸°ìˆ ì‹¤ìš©í™”ì¬ë‹¨": {
        "relationship": "GOLD",
        "years_active": "2019~2024",
        "total_contracts": 5,
        "primary_domain": "D2_ë†ì‹í’ˆ",
        "decision_pattern": "ê¸°ìˆ ì‚¬ì—…í™” ê´€ì  â€” ê¸°ìˆ ì˜ ì‹œì¥ì„± í‰ê°€ ì¤‘ì‹œ",
        "evaluation_focus": ["ê¸°ìˆ ì‚¬ì—…í™” ë°©ë²•ë¡ ", "ì‹œì¥ë¶„ì„ ì—­ëŸ‰", "ìˆ˜í–‰ì‹¤ì "],
        "proposal_tips": [
            "ê¸°ìˆ  â†’ ì‹œì¥ ì „í™˜ í”„ë ˆì„ì›Œí¬ ê°•ì¡°",
            "ì‹¤ì œ ì‚¬ì—…í™” ì„±ê³µ ì‚¬ë¡€ (ë§¤ì¶œ ë°œìƒ, ìœ í†µ ì…ì )",
            "ë†ì—… R&D ì´í•´ + ë§ˆì¼€íŒ… ì „ë¬¸ì„± ê· í˜•"
        ],
        "budget_range": "2~5ì–µì›"
    },
    "ì¤‘ì†Œê¸°ì—…ìœ í†µì„¼í„°": {
        "relationship": "GOLD",
        "years_active": "2015~2024",
        "total_contracts": 6,
        "primary_domain": "D6_ì¤‘ì†Œê¸°ì—…ìœ í†µ",
        "decision_pattern": "ìœ í†µ ì„±ê³¼(ë§¤ì¶œ, ì…ì ) ì¤‘ì‹¬ í‰ê°€",
        "evaluation_focus": ["ìœ í†µì±„ë„ ì „ë¬¸ì„±", "ìˆ˜í˜œê¸°ì—… ì„±ê³¼", "ë””ì§€í„¸ ì—­ëŸ‰"],
        "proposal_tips": [
            "ì±„ë„ë³„ ì„±ê³¼ ë°ì´í„° (ì…ì  ê±´ìˆ˜, ë§¤ì¶œ ì¦ê°€ìœ¨)",
            "ë””ì§€í„¸ë§ˆì¼€íŒ… ìµœì‹  íŠ¸ë Œë“œ ë°˜ì˜",
            "ìˆ˜í˜œê¸°ì—… ë§Œì¡±ë„ ë°ì´í„°"
        ],
        "budget_range": "2~6ì–µì›"
    },
    "ì„œìš¸ì‹œ": {
        "relationship": "SILVER",
        "primary_domain": "D1_ì‚¬íšŒì ê¸°ì—…",
        "decision_pattern": "ì‚¬íšŒì ê°€ì¹˜ + í˜ì‹ ì„± ì¤‘ì‹œ, ì„œìš¸ ì†Œì¬ ì—…ì²´ ì„ í˜¸",
        "evaluation_focus": ["ì‚¬íšŒì ê°€ì¹˜", "í˜ì‹ ì  ì ‘ê·¼", "ì‹œë¯¼ ì°¸ì—¬"],
        "proposal_tips": [
            "ì„œìš¸ì‹œ ì •ì±… ë°©í–¥ê³¼ì˜ ì—°ê³„ì„± í•„ìˆ˜",
            "ì‹œë¯¼ ì°¸ì—¬í˜• í”„ë¡œê·¸ë¨ ì„¤ê³„",
            "ë””ì§€í„¸/ë¹„ëŒ€ë©´ ì†”ë£¨ì…˜ í¬í•¨"
        ],
        "budget_range": "1~10ì–µì›"
    },
    "í•œêµ­ê´€ê´‘ê³µì‚¬": {
        "relationship": "SILVER",
        "primary_domain": "D5_ê´€ê´‘ë¬¸í™”",
        "decision_pattern": "ê´€ê´‘ì‚°ì—… ì „ë¬¸ì„± + ê¸€ë¡œë²Œ ê´€ì ",
        "evaluation_focus": ["ê´€ê´‘ ì „ë¬¸ì„±", "ê¸€ë¡œë²Œ ë§ˆì¼€íŒ…", "ë””ì§€í„¸ ì—­ëŸ‰"],
        "proposal_tips": [
            "ê¸€ë¡œë²Œ ê´€ê´‘ íŠ¸ë Œë“œ ë°ì´í„° í™œìš©",
            "í•œì‹ì„¸ê³„í™” í”„ë¡œì íŠ¸ ê²½í—˜ ê°•ì¡°",
            "ì¸ë°”ìš´ë“œ ê´€ê´‘ ë§ˆì¼€íŒ… ì „ëµ í¬í•¨"
        ],
        "budget_range": "2~8ì–µì›"
    },
    "DEFAULT_ì‹ ê·œê¸°ê´€": {
        "relationship": "NEW",
        "decision_pattern": "í‘œì¤€ ê¸°ìˆ í‰ê°€ ì ˆì°¨ â€” ê¸°ìˆ ëŠ¥ë ¥/ìˆ˜í–‰ì‹¤ì /ê°€ê²© ì¢…í•©",
        "evaluation_focus": ["ìˆ˜í–‰ì‹¤ì ", "ê¸°ìˆ ëŠ¥ë ¥", "ì œì•ˆê°€ê²©"],
        "proposal_tips": [
            "WKMG ì „ì²´ í¬íŠ¸í´ë¦¬ì˜¤ (B2G + B2B) ê°•ë ¥íˆ ì–´í•„",
            "í•´ë‹¹ ê¸°ê´€ ê´€ë ¨ ë„ë©”ì¸ ì‹¤ì  ì§‘ì¤‘ ë¶€ê°",
            "B2B ëŒ€ê¸°ì—… ì‹¤ì ìœ¼ë¡œ ì „ë¬¸ì„± ì°¨ë³„í™”",
            "ì²« ê±°ë˜ â†’ ì¥ê¸° íŒŒíŠ¸ë„ˆ ë¹„ì „ ì œì‹œ"
        ],
        "budget_range": "ë‹¤ì–‘"
    }
}


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 3. PROPOSAL_TEMPLATES â€” ì œì•ˆì„œ ìœ í˜•ë³„ ì „ëµ í…œí”Œë¦¿
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROPOSAL_TEMPLATES = {
    "TYPE_A_ë¸Œëœë“œì „ëµ": {
        "bid_types": ["A"],
        "typical_budget": "1~5ì–µì›",
        "recommended_toc": [
            {"ch": "1", "title": "ì‚¬ì—… í™˜ê²½ ë¶„ì„", "pages": "8~12p", "key": "ì‹œì¥/ê²½ìŸ/íŠ¸ë Œë“œ, ë°œì£¼ê¸°ê´€ í˜„í™©"},
            {"ch": "2", "title": "ì‚¬ì—… ì´í•´ ë° ì „ëµ ë°©í–¥", "pages": "6~8p", "key": "í•µì‹¬ ì´ìŠˆ, ì „ëµ í”„ë ˆì„ì›Œí¬"},
            {"ch": "3", "title": "ì„¸ë¶€ ìˆ˜í–‰ ë°©ì•ˆ", "pages": "15~25p", "key": "ë¸Œëœë“œ ì „ëµ, ë„¤ì´ë°, BI, ê°€ì´ë“œë¼ì¸"},
            {"ch": "4", "title": "ìˆ˜í–‰ ì‹¤ì  ë° ì¡°ì§", "pages": "8~10p", "key": "ìœ ì‚¬ ì‹¤ì , íˆ¬ì…ì¸ë ¥, ì¶”ì§„ì²´ê³„"},
            {"ch": "5", "title": "ì‚¬ì—… ì¼ì • ë° ì˜ˆì‚°", "pages": "3~5p", "key": "WBS, ë§ˆì¼ìŠ¤í†¤, íˆ¬ì… ì˜ˆì‚°"}
        ],
        "winning_elements": [
            "ê³¼ê±° ë¸Œëœë“œ ì „ëµ í¬íŠ¸í´ë¦¬ì˜¤ ë¹„ì£¼ì–¼ (LGì „ì, ë¡¯ë°, ì •ê´€ì¥ ë“±)",
            "ë¸Œëœë“œ ì „ëµ ë°©ë²•ë¡  ë‹¤ì´ì–´ê·¸ë¨ (WKMG ê³ ìœ  í”„ë ˆì„ì›Œí¬)",
            "íƒ€ê²Ÿ ì†Œë¹„ì ì¸ì‚¬ì´íŠ¸ ë°ì´í„°",
            "ê²½ìŸ ë²¤ì¹˜ë§ˆí‚¹ ë§¤íŠ¸ë¦­ìŠ¤"
        ],
        "page_total": "40~60p",
        "production_days": 10
    },
    "TYPE_C_ìœ í†µì „ëµ": {
        "bid_types": ["C"],
        "typical_budget": "2~8ì–µì›",
        "recommended_toc": [
            {"ch": "1", "title": "ìœ í†µ í™˜ê²½ ë¶„ì„", "pages": "6~8p", "key": "ì±„ë„ë³„ í˜„í™©, íŠ¸ë Œë“œ"},
            {"ch": "2", "title": "ì‚¬ì—… ì´í•´ ë° ì¶”ì§„ ì „ëµ", "pages": "8~10p", "key": "ìœ í†µ ì „ëµ ë°©í–¥, ì±„ë„ ì„ ì •"},
            {"ch": "3", "title": "ì±„ë„ë³„ ì§„ì¶œ ì‹¤í–‰ ë°©ì•ˆ", "pages": "15~20p", "key": "ì˜¨ë¼ì¸/ì˜¤í”„ë¼ì¸/í™ˆì‡¼í•‘ ê° ì „ëµ"},
            {"ch": "4", "title": "ìˆ˜í˜œê¸°ì—… ì§€ì› í”„ë¡œê·¸ë¨", "pages": "8~10p", "key": "ì»¨ì„¤íŒ…, êµìœ¡, ë©˜í† ë§ í”„ë¡œê·¸ë¨"},
            {"ch": "5", "title": "ì„±ê³¼ê´€ë¦¬ ë° ì¡°ì§", "pages": "5~8p", "key": "KPI, ì„±ê³¼ì¸¡ì •, íˆ¬ì…ì¡°ì§"}
        ],
        "winning_elements": [
            "ì±„ë„ë³„ ì…ì  ì„±ê³µ ì‚¬ë¡€ (ìˆ˜í˜œê¸°ì—… ë§¤ì¶œ ë°ì´í„°)",
            "ìœ í†µ ë„¤íŠ¸ì›Œí¬ ë§µ (WKMG ë³´ìœ  ì±„ë„ íŒŒíŠ¸ë„ˆ)",
            "ë””ì§€í„¸ë§ˆì¼€íŒ… ì„±ê³¼ ëŒ€ì‹œë³´ë“œ ì˜ˆì‹œ",
            "GSí™ˆì‡¼í•‘/ê³µì˜í™ˆì‡¼í•‘ í˜‘ë ¥ ì‹¤ì "
        ],
        "page_total": "45~55p",
        "production_days": 12
    },
    "TYPE_D_ì»¨ì„¤íŒ…ì¢…í•©": {
        "bid_types": ["D", "H"],
        "typical_budget": "3~10ì–µì›",
        "recommended_toc": [
            {"ch": "1", "title": "í™˜ê²½ ë¶„ì„ ë° í˜„í™© ì§„ë‹¨", "pages": "10~15p", "key": "ëŒ€ë‚´ì™¸ í™˜ê²½, ì´ìŠˆ ë„ì¶œ"},
            {"ch": "2", "title": "ë¹„ì „ ë° ì „ëµ ì²´ê³„", "pages": "8~10p", "key": "ë¹„ì „, ëª©í‘œ, ì „ëµ ë°©í–¥"},
            {"ch": "3", "title": "ì„¸ë¶€ ì¶”ì§„ ê³¼ì œ", "pages": "20~30p", "key": "ê³¼ì œë³„ ë°©ë²•ë¡ , ê¸°ëŒ€íš¨ê³¼"},
            {"ch": "4", "title": "ì‹¤í–‰ ì²´ê³„ ë° ê´€ë¦¬", "pages": "8~10p", "key": "ì¶”ì§„ì¡°ì§, ì¼ì •, ì˜ˆì‚°, ìœ„í—˜ê´€ë¦¬"},
            {"ch": "5", "title": "ìˆ˜í–‰ì‚¬ ì—­ëŸ‰", "pages": "8~10p", "key": "ì‹¤ì , ì¸ë ¥, ì°¨ë³„í™” í¬ì¸íŠ¸"}
        ],
        "winning_elements": [
            "WKMG ê³ ìœ  ì»¨ì„¤íŒ… í”„ë ˆì„ì›Œí¬ (4ëŒ€ ì˜ì—­ í†µí•© ëª¨ë¸)",
            "ë„ë©”ì¸ë³„ ì „ë¬¸ì¸ë ¥ í”„ë¡œí•„",
            "ìœ ì‚¬ ì¢…í•© ì»¨ì„¤íŒ… ìˆ˜í–‰ ì‚¬ë¡€",
            "B2B ëŒ€ê¸°ì—… ì»¨ì„¤íŒ… ë°©ë²•ë¡ ì˜ ê³µê³µ ì ìš©"
        ],
        "page_total": "55~75p",
        "production_days": 14
    }
}


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 4. COMPETITIVE_INTEL â€” ê²½ìŸ í™˜ê²½ ì¸í…”ë¦¬ì „ìŠ¤
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

COMPETITIVE_INTEL = {
    "competitor_types": {
        "ì¤‘ê²¬ë§ˆì¼€íŒ…ì‚¬": {
            "examples": ["ë”ë¸”ìœ ì¼€ì´ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ì¦ˆ", "ì´ë…¸ì…˜", "ì œì¼ê¸°íš(ì†Œí˜•ì‚¬ì—…)", "HSì• ë“œ"],
            "strength": "ëŒ€í˜• í´ë¼ì´ì–¸íŠ¸, í’ë¶€í•œ ì¸ë ¥",
            "weakness": "B2G ê²½í—˜ ë¶€ì¡±, ë†’ì€ ë‹¨ê°€",
            "wkmg_counter": "B2G 16ë…„ ì „ë¬¸ì„± + í•©ë¦¬ì  ë‹¨ê°€"
        },
        "ê³µê³µì»¨ì„¤íŒ…ì „ë¬¸ì‚¬": {
            "examples": ["ê³µê³µ ì „ë¬¸ ì¤‘ì†Œ ì»¨ì„¤íŒ…ì‚¬"],
            "strength": "B2G ì ˆì°¨ ì´í•´, ê´€ê³„ ë„¤íŠ¸ì›Œí¬",
            "weakness": "ë§ˆì¼€íŒ…/ë¸Œëœë“œ ì „ë¬¸ì„± ë¶€ì¡±, B2B ì‹¤ì  ì—†ìŒ",
            "wkmg_counter": "B2B ëŒ€ê¸°ì—… ë¸Œëœë“œì „ëµ ì‹¤ì  = ì••ë„ì  ì°¨ë³„í™”"
        },
        "ë””ìì¸ì „ë¬¸ì‚¬": {
            "examples": ["íŒ¨í‚¤ì§€/BI/ì›¹ ë””ìì¸ ì „ë¬¸ì‚¬"],
            "strength": "ë””ìì¸ í€„ë¦¬í‹°, í¬íŠ¸í´ë¦¬ì˜¤ ë¹„ì£¼ì–¼",
            "weakness": "ì „ëµ ë¶€ì¬, ë§ˆì¼€íŒ… ì—­ëŸ‰ ë¶€ì¡±",
            "wkmg_counter": "ì „ëµ â†’ ë””ìì¸ â†’ ìœ í†µ í’€í”„ë¡œì„¸ìŠ¤ (ë””ìì¸ë§Œìœ¼ë¡œëŠ” ë¶ˆì¶©ë¶„)"
        },
        "ëŒ€í•™ì—°êµ¬ê¸°ê´€": {
            "examples": ["ì§€ì—­ ëŒ€í•™ ì‚°í•™í˜‘ë ¥ë‹¨, ì—°êµ¬ì›"],
            "strength": "ì¡°ì‚¬/ë¶„ì„ ì „ë¬¸ì„±, í•™ìˆ ì  ê·¼ê±°",
            "weakness": "ì‹¤í–‰ë ¥ ë¶€ì¡±, ì‹œì¥ ê°ê° ë¶€ì¬",
            "wkmg_counter": "ì‹œì¥ ì‹¤ì „ ê²½í—˜ + ëŒ€ê¸°ì—… í”„ë¡œì íŠ¸ = í˜„ì¥ ì¤‘ì‹¬ ì ‘ê·¼"
        },
        "ì§€ì—­ì—…ì²´": {
            "examples": ["ì§€ì—­ ì†Œì¬ ë§ˆì¼€íŒ…/ë””ìì¸ ì—…ì²´"],
            "strength": "ì§€ì—­ ì´í•´, ì§€ì—­ì—…ì²´ ìš°ëŒ€ ê°€ì‚°ì ",
            "weakness": "ê·œëª¨/ì‹¤ì  í•œê³„, ì „ë¬¸ì„± ë¶€ì¡±",
            "wkmg_counter": "ì „êµ­ ë‹¨ìœ„ ì‹¤ì  + ë„ë©”ì¸ ì „ë¬¸ì„±ìœ¼ë¡œ í’ˆì§ˆ ì°¨ë³„í™”"
        }
    },
    "wkmg_unique_positioning": {
        "one_liner": "B2B ëŒ€ê¸°ì—… ë¸Œëœë“œì „ëµ + B2G 16ë…„ ì •ì±…ì‚¬ì—… = ëŒ€í•œë¯¼êµ­ ìœ ì¼í•œ í¬ì§€ì…˜",
        "proof_points": [
            "LGì „ì, ë¡¯ë°, ì •ê´€ì¥ ë“± ëŒ€ê¸°ì—… 17ê°œì‚¬ ë¸Œëœë“œì „ëµ ìˆ˜í–‰",
            "B2G 6ëŒ€ ë„ë©”ì¸ì—ì„œ 113ê±´+ í”„ë¡œì íŠ¸ ìˆ˜í–‰",
            "ì‚¬íšŒì ê¸°ì—… ìœ í†µì§€ì› 7ë…„ ì—°ì† ìˆ˜ì£¼",
            "ë†ì—…ê¸°ìˆ ì‹¤ìš©í™”ì¬ë‹¨ ë‹¤ë…„ê°„ íŒŒíŠ¸ë„ˆ",
            "ì§€ì—­ 7ê°œ ì‹œêµ° ë¸Œëœë“œ/íŠ¹ì‚°ë¬¼ ê°œë°œ"
        ]
    }
}


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 5. PRICING_GUIDE â€” ì˜ˆì‚° ê·œëª¨ë³„ ì „ëµ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PRICING_GUIDE = {
    "TIER_1_ì†Œí˜•": {
        "budget_range": "3000ë§Œì›~1ì–µì›",
        "strategy": "ë‹¨ë… ì°¸ì—¬, í•µì‹¬ ì¸ë ¥ ìµœì†Œí™”",
        "margin_target": "20~25%",
        "staffing": "PM 1ëª… + ì—°êµ¬ì› 1~2ëª…",
        "tip": "Quick Win â€” ê´€ê³„ êµ¬ì¶•ìš©, í–¥í›„ ëŒ€í˜•ì‚¬ì—… ì§„ì¶œ ë°œíŒ"
    },
    "TIER_2_ì¤‘í˜•": {
        "budget_range": "1~5ì–µì›",
        "strategy": "í•µì‹¬ ì˜ì—­ ì§‘ì¤‘, í•„ìš”ì‹œ ì†Œê·œëª¨ íŒŒíŠ¸ë„ˆ",
        "margin_target": "15~20%",
        "staffing": "PM 1ëª… + ì„ ì„ 1~2ëª… + ì—°êµ¬ì› 2~3ëª…",
        "tip": "WKMG ì£¼ë ¥ êµ¬ê°„ â€” í’€ ì—­ëŸ‰ ë°œíœ˜ ê°€ëŠ¥"
    },
    "TIER_3_ëŒ€í˜•": {
        "budget_range": "5~15ì–µì›",
        "strategy": "ì»¨ì†Œì‹œì—„/ê³µë™ìˆ˜ê¸‰ ì ê·¹ ê²€í† , ì „ë¬¸ íŒŒíŠ¸ë„ˆ êµ¬ì„±",
        "margin_target": "12~18%",
        "staffing": "ì´ê´„PM + ë¶„ì•¼ë³„ íŒ€ë¦¬ë” + ì „ë¬¸ì¸ë ¥ 5~8ëª…",
        "tip": "ì»¨ì†Œì‹œì—„ ì£¼ê´€ì‚¬ë¡œ ì°¸ì—¬ â€” íŒŒíŠ¸ë„ˆ ì‚¬ì „ í™•ë³´ í•„ìˆ˜"
    },
    "TIER_4_ì´ˆëŒ€í˜•": {
        "budget_range": "15ì–µì›+",
        "strategy": "ëŒ€í˜•ì‚¬ì™€ ê³µë™ìˆ˜ê¸‰ ë˜ëŠ” í•˜ë„ê¸‰ ì°¸ì—¬ ê²€í† ",
        "margin_target": "10~15%",
        "staffing": "ëŒ€ê·œëª¨ TF êµ¬ì„± í•„ìš”",
        "tip": "ë‹¨ë… ìˆ˜ì£¼ ì–´ë ¤ìš¸ ìˆ˜ ìˆìŒ â€” ì „ëµì  íŒŒíŠ¸ë„ˆì‹­ ìš°ì„ "
    }
}


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# 6. RISK_LIBRARY â€” ê³µí†µ ë¦¬ìŠ¤í¬ & ëŒ€ì‘
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

RISK_LIBRARY = [
    {
        "risk_id": "R01",
        "risk": "ì§€ì—­ì œí•œ ì¡°í•­ (í•´ë‹¹ ì§€ì—­ ì†Œì¬ ì—…ì²´ë§Œ ì°¸ì—¬ ê°€ëŠ¥)",
        "probability": "MEDIUM",
        "impact": "CRITICAL",
        "detection": "ê³µê³ ë¬¸ ì°¸ê°€ìê²© ì¡°í•­ í™•ì¸",
        "mitigation": "ì§€ì—­ íŒŒíŠ¸ë„ˆì‚¬ì™€ ì»¨ì†Œì‹œì—„ êµ¬ì„±, ì§€ì—­ ì‚¬ë¬´ì†Œ ì„¤ì¹˜ ê²€í† ",
        "domains": ["D3_ì§€ì—­ë¸Œëœë“œ", "D5_ê´€ê´‘ë¬¸í™”"]
    },
    {
        "risk_id": "R02",
        "risk": "ì‹¤ì  ì œí•œ (íŠ¹ì • ê·œëª¨/ê±´ìˆ˜ ì´ìƒ ìˆ˜í–‰ì‹¤ì  ìš”êµ¬)",
        "probability": "HIGH",
        "impact": "HIGH",
        "detection": "ì…ì°°ì°¸ê°€ìê²© ì‹¤ì  ìš”ê±´ í™•ì¸",
        "mitigation": "ìœ ì‚¬ ì‹¤ì  í­ë„“ê²Œ í•´ì„, ì»¨ì†Œì‹œì—„ íŒŒíŠ¸ë„ˆ ì‹¤ì  í•©ì‚° ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸",
        "domains": ["ALL"]
    },
    {
        "risk_id": "R03",
        "risk": "ë‹´ë‹¹ì êµì²´ë¡œ ê¸°ì¡´ ê´€ê³„ ë¦¬ì…‹",
        "probability": "MEDIUM",
        "impact": "HIGH",
        "detection": "ë°œì£¼ê¸°ê´€ ì¡°ì§ê°œí¸, ì¸ì‚¬ì´ë™ ì •ë³´",
        "mitigation": "ë¬¸ì„œí™”ëœ ì„±ê³¼ ë°ì´í„°ë¡œ ê°ê´€ì  ì–´í•„, ê¸°ê´€ ë‚´ ë‹¤ì¤‘ ì ‘ì  í™•ë³´",
        "domains": ["D1_ì‚¬íšŒì ê¸°ì—…", "D2_ë†ì‹í’ˆ"]
    },
    {
        "risk_id": "R04",
        "risk": "ê°€ê²© ê²½ìŸ ì‹¬í™” (ì €ê°€ íˆ¬ì°°)",
        "probability": "HIGH",
        "impact": "MEDIUM",
        "detection": "ì°¸ì—¬ì—…ì²´ ìˆ˜, ì‹œì¥ ê²½ìŸ ê°•ë„",
        "mitigation": "ê¸°ìˆ ì ìˆ˜ ê·¹ëŒ€í™” ì „ëµ, ê°€ê²© ì ì •ì„  ìœ ì§€ (í’ˆì§ˆ ê²½ìŸ)",
        "domains": ["ALL"]
    },
    {
        "risk_id": "R05",
        "risk": "ë””ìì¸/ì˜ìƒ/IT ë“± ì „ë¬¸ ë¶„ì•¼ ìš”êµ¬",
        "probability": "HIGH",
        "impact": "MEDIUM",
        "detection": "ê³¼ì—…ì§€ì‹œì„œ ì‚°ì¶œë¬¼ ëª©ë¡ í™•ì¸",
        "mitigation": "ì „ë¬¸ íŒŒíŠ¸ë„ˆì‚¬ ì‚¬ì „ í™•ë³´ (ë””ìì¸ì‚¬, ì˜ìƒì œì‘ì‚¬, ITì—…ì²´)",
        "domains": ["D4_ê³µê³µë¸Œëœë“œ", "D5_ê´€ê´‘ë¬¸í™”"]
    },
    {
        "risk_id": "R06",
        "risk": "ì§§ì€ ì œì•ˆì„œ ì œì¶œ ê¸°í•œ",
        "probability": "HIGH",
        "impact": "HIGH",
        "detection": "ê³µê³ ì¼ ~ ì œì¶œë§ˆê°ì¼ ê°„ê²© í™•ì¸",
        "mitigation": "SPD ì‹œìŠ¤í…œ í™œìš© ì¦‰ì‹œ ë¶„ì„, ìœ ì‚¬ ì œì•ˆì„œ í…œí”Œë¦¿ í™œìš©ìœ¼ë¡œ ì‘ì„± ì‹œê°„ ë‹¨ì¶•",
        "domains": ["ALL"]
    },
    {
        "risk_id": "R07",
        "risk": "ì‚¬ì—… ê·œëª¨ ëŒ€ë¹„ ê³¼ì—… ë²”ìœ„ ê³¼ë‹¤",
        "probability": "MEDIUM",
        "impact": "MEDIUM",
        "detection": "ì˜ˆì‚° ëŒ€ë¹„ ê³¼ì—… í•­ëª© ìˆ˜ ë¹„êµ",
        "mitigation": "í•µì‹¬ ê³¼ì—… ì§‘ì¤‘ + ë¶€ê°€ ê³¼ì—… ê²½ëŸ‰í™”, ì‚¬ì „ ë°œì£¼ê¸°ê´€ê³¼ ë²”ìœ„ í˜‘ì˜",
        "domains": ["ALL"]
    }
]


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# API í•¨ìˆ˜ â€” SPD Analysis Engineì—ì„œ í˜¸ì¶œ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

def get_win_pattern(domain_keyword: str) -> Optional[Dict]:
    """í‚¤ì›Œë“œë¡œ ê°€ì¥ ì í•©í•œ ìŠ¹ë¦¬ ê³µì‹ì„ ì°¾ì•„ ë°˜í™˜"""
    keyword_lower = domain_keyword.lower()
    
    best_match = None
    best_score = 0
    
    for key, pattern in WIN_PATTERNS.items():
        score = 0
        for trigger in pattern.get("keywords_trigger", []):
            if trigger.lower() in keyword_lower or keyword_lower in trigger.lower():
                score += 1
        if score > best_score:
            best_score = score
            best_match = pattern
    
    return best_match


def get_matching_patterns(rfp_text: str, top_n: int = 3) -> List[Dict]:
    """RFP í…ìŠ¤íŠ¸ì—ì„œ ë§¤ì¹­ë˜ëŠ” ìŠ¹ë¦¬ ê³µì‹ë“¤ì„ ì ìˆ˜ìˆœ ë°˜í™˜"""
    rfp_lower = rfp_text.lower()
    scored = []
    
    for key, pattern in WIN_PATTERNS.items():
        score = 0
        matched_keywords = []
        for trigger in pattern.get("keywords_trigger", []):
            if trigger in rfp_lower:
                score += 1
                matched_keywords.append(trigger)
        
        if score > 0:
            scored.append({
                "domain_id": pattern.get("domain_id"),
                "domain_name": pattern.get("domain_name"),
                "match_score": score,
                "matched_keywords": matched_keywords,
                "strength_level": pattern.get("strength_level"),
                "win_rate": pattern.get("win_rate_estimate"),
                "pattern": pattern
            })
    
    scored.sort(key=lambda x: x["match_score"], reverse=True)
    return scored[:top_n]


def get_client_strategy(agency_name: str) -> Dict:
    """ë°œì£¼ê¸°ê´€ëª…ìœ¼ë¡œ ê³µëµ ì „ëµ ë°˜í™˜"""
    for key, strategy in CLIENT_PLAYBOOK.items():
        if key in agency_name or agency_name in key:
            return strategy
    return CLIENT_PLAYBOOK["DEFAULT_ì‹ ê·œê¸°ê´€"]


def get_pricing_strategy(budget_won: int) -> Dict:
    """ì˜ˆì‚° ê¸ˆì•¡(ì›)ìœ¼ë¡œ ê°€ê²© ì „ëµ ë°˜í™˜"""
    if budget_won < 100_000_000:
        return PRICING_GUIDE["TIER_1_ì†Œí˜•"]
    elif budget_won < 500_000_000:
        return PRICING_GUIDE["TIER_2_ì¤‘í˜•"]
    elif budget_won < 1_500_000_000:
        return PRICING_GUIDE["TIER_3_ëŒ€í˜•"]
    else:
        return PRICING_GUIDE["TIER_4_ì´ˆëŒ€í˜•"]


def get_applicable_risks(domain_id: str) -> List[Dict]:
    """ë„ë©”ì¸ì— í•´ë‹¹í•˜ëŠ” ë¦¬ìŠ¤í¬ ëª©ë¡ ë°˜í™˜"""
    return [
        r for r in RISK_LIBRARY
        if "ALL" in r.get("domains", []) or domain_id in r.get("domains", [])
    ]


def get_playbook_summary_for_prompt(rfp_text: str, agency: str, budget: int = 0) -> str:
    """
    GPT í”„ë¡¬í”„íŠ¸ì— ì‚½ì…í•  ìŠ¹ë¦¬ ê³µì‹ ìš”ì•½ í…ìŠ¤íŠ¸ ìƒì„±.
    spd_prompts_v2.pyì˜ build_analysis_prompt_v2()ì—ì„œ í˜¸ì¶œ.
    """
    lines = []
    
    # 1. ë§¤ì¹­ ë„ë©”ì¸ íŒ¨í„´
    patterns = get_matching_patterns(rfp_text, top_n=2)
    if patterns:
        lines.append("### WKMG ìŠ¹ë¦¬ ê³µì‹ ì°¸ì¡°")
        for p in patterns:
            wf = p["pattern"].get("winning_formula", {})
            lines.append(f"\n**[{p['domain_id']}] {p['domain_name']}** (ê°•ì : {p['strength_level']}, ì˜ˆìƒ ìˆ˜ì£¼ìœ¨: {p['win_rate']})")
            lines.append(f"- í•µì‹¬ ë©”ì‹œì§€: {wf.get('core_message', '')}")
            diffs = wf.get("key_differentiators", [])
            if diffs:
                lines.append(f"- ì°¨ë³„í™”: {' / '.join(diffs[:3])}")
            ce = wf.get("competitive_edge", "")
            if ce:
                lines.append(f"- ê²½ìŸìš°ìœ„: {ce}")
    
    # 2. ë°œì£¼ê¸°ê´€ ê³µëµë²•
    client = get_client_strategy(agency)
    if client.get("relationship") != "NEW":
        lines.append(f"\n### ë°œì£¼ê¸°ê´€ ê³µëµë²• ({agency})")
        lines.append(f"- ê´€ê³„: {client.get('relationship')} | ê³„ì•½íšŸìˆ˜: {client.get('total_contracts', '?')}íšŒ")
        tips = client.get("proposal_tips", [])
        if tips:
            lines.append(f"- ì œì•ˆ íŒ: {' / '.join(tips[:3])}")
    
    # 3. ê°€ê²© ì „ëµ
    if budget > 0:
        pricing = get_pricing_strategy(budget)
        lines.append(f"\n### ê°€ê²© ì „ëµ")
        lines.append(f"- êµ¬ê°„: {pricing.get('budget_range')} | ì „ëµ: {pricing.get('strategy')}")
        lines.append(f"- ì¸ë ¥: {pricing.get('staffing')} | íŒ: {pricing.get('tip')}")
    
    return "\n".join(lines) if lines else ""


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ë©”ì¸: í…ŒìŠ¤íŠ¸ ë° í†µê³„
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

if __name__ == "__main__":
    print("=" * 60)
    print("  WKMG Winning Playbook v1.0")
    print("=" * 60)
    
    print(f"\nğŸ“Š ìŠ¹ë¦¬ ê³µì‹: {len(WIN_PATTERNS)}ê°œ ë„ë©”ì¸")
    for key, p in WIN_PATTERNS.items():
        sl = p.get("strength_level", "?")
        wr = p.get("win_rate_estimate", "?")
        kw_count = len(p.get("keywords_trigger", []))
        print(f"  [{sl}] {p['domain_name']} â€” ìˆ˜ì£¼ìœ¨ {wr}, í‚¤ì›Œë“œ {kw_count}ê°œ")
    
    print(f"\nğŸ›ï¸ ë°œì£¼ê¸°ê´€ í”Œë ˆì´ë¶: {len(CLIENT_PLAYBOOK)}ê°œ ê¸°ê´€")
    for key, c in CLIENT_PLAYBOOK.items():
        if key != "DEFAULT_ì‹ ê·œê¸°ê´€":
            print(f"  [{c.get('relationship', '?')}] {key}")
    
    print(f"\nğŸ“‹ ì œì•ˆì„œ í…œí”Œë¦¿: {len(PROPOSAL_TEMPLATES)}ê°œ ìœ í˜•")
    print(f"âš ï¸ ë¦¬ìŠ¤í¬ ë¼ì´ë¸ŒëŸ¬ë¦¬: {len(RISK_LIBRARY)}ê°œ í•­ëª©")
    print(f"ğŸ’° ê°€ê²© ì „ëµ: {len(PRICING_GUIDE)}ê°œ êµ¬ê°„")
    
    # í…ŒìŠ¤íŠ¸
    print("\n" + "=" * 60)
    print("  í…ŒìŠ¤íŠ¸: 'ì‚¬íšŒì ê¸°ì—… ìœ í†µì±„ë„ ì§„ì¶œ ì§€ì›ì‚¬ì—…'")
    print("=" * 60)
    
    test_text = "2026ë…„ ì‚¬íšŒì ê¸°ì—… ìœ í†µì±„ë„ ì§„ì¶œ ì§€ì›ì‚¬ì—… ì‚¬íšŒì ê²½ì œ ê¸°ì—…ì˜ ì˜¨ë¼ì¸ ìœ í†µì±„ë„ ë§ˆì¼€íŒ… ì§€ì›"
    
    matches = get_matching_patterns(test_text)
    for m in matches:
        print(f"\n  ğŸ¯ [{m['domain_id']}] {m['domain_name']}")
        print(f"     ë§¤ì¹­ì ìˆ˜: {m['match_score']}, í‚¤ì›Œë“œ: {m['matched_keywords']}")
    
    summary = get_playbook_summary_for_prompt(
        test_text, "í•œêµ­ì‚¬íšŒì ê¸°ì—…ì§„í¥ì›", 500_000_000
    )
    print(f"\n  ğŸ“ í”„ë¡¬í”„íŠ¸ìš© ìš”ì•½ ({len(summary)}ì):")
    print(summary[:500])
